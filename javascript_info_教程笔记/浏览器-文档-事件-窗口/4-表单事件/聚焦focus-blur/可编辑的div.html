<!DOCTYPE HTML>
<html>

<head>
  <link type="text/css" rel="stylesheet" href="my.css">
  <meta charset="utf-8">
</head>

<body>

  <ul>
    <li>点击下面的这个 div 来进行编辑。</li>
    <li>按 Enter 键或者通过 blur 来保存结果。</li>
  </ul>

  允许输入 HTML。

  <div id="view" class="view">Text</div>

  <script>
    let textarea = document.createElement('textarea')
    let view = document.getElementById('view')
    textarea.classList.add('edit')
    view.onclick = (e) =>{
      textarea.value = view.innerHTML
      view.replaceWith(textarea)
      textarea.focus()
      textarea.onblur = ()=>{
        view.innerHTML = textarea.value
        textarea.innerHTML = ""
        textarea.replaceWith(view)
      }
      textarea.onkeydown = (e)=>{
        if(e.key == 'Enter'){
          textarea.blur()
        }
      }
    }
  </script>

</body>
</html>